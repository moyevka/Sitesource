<!DOCTYPE html>
<html lang="en">
<head>
    {% include global.html %}
    <style>
        .tags {
            list-style-type: none; /* Remove bullet points */
            padding: 0;
            display: flex; /* Display list items in a horizontal row */
            gap: 10px; /* Adjust the spacing between tags */
        }

        .tags li {
            margin: 0;
            padding: 5px 10px; /* Add padding inside the capsule */
            background-color: #fff; /* Light gray background for the capsule */
            border-radius: 20px; /* Rounded corners to create the capsule effect */
            white-space: nowrap; /* Ensure the tag text doesn't wrap */
            border: 2px solid black;
            outline: #969696 solid 4px;
        }
    </style>
</head>
<body>
    {% assign sections = content | split: '<!-- split -->' %}
    {% for section in sections %}
        {% if section contains '<!-- bg:' %}
            {% assign bg_image = section | split: '<!-- bg:' | last | split: '-->' | first | strip%}
            <div class="section" style="background-image: url('{{ bg_image }}'); background-repeat: no-repeat; background-position: center; background-size: auto 1325px; image-rendering: pixelated;">
        {% else %}
            <div class="section">
        {% endif %}
            {% if section contains '<!-- tagblock -->' %}
                {{ section | markdownify }}
                <div class="tag-list">
                    <ul class="tags">
                        {% for tag in page.tags %}
                            <li>{{ tag }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% else %}
                {{ section | markdownify }}
            {% endif %}
        </div>
    {% endfor %}
</body>
<!-- snap binary elements to pixel grid  -->
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
    function binaryFix() {
        const range = document.createRange();
        document.querySelectorAll('.binary').forEach(e => {
            range.setStartBefore(e.childNodes[0]);
            range.setEndAfter(e.childNodes[0]);
            e.style.width = `${Math.ceil(range.getBoundingClientRect().width)}px`;
            e.style.transform = `scaleX(${Math.ceil(e.getBoundingClientRect().width) / e.getBoundingClientRect().width})`;
            e.style.translate = `${-(e.getBoundingClientRect().left - Math.floor(e.getBoundingClientRect().left))}px`
        });
    };

window.onload = (event) => {
  console.log("fully loaded");
  binaryFix();
  removeSplash();
};
});
</script>
</html>